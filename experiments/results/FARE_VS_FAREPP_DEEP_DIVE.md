# Fare vs Ticket_Fare_Per_Person æ·±æ˜ã‚Šåˆ†æ

**æ—¥ä»˜**: 2025-10-24
**ç›®çš„**: Fareã¨Ticket_Fare_Per_Personã®å¤šé‡å…±ç·šæ€§ï¼ˆç›¸é–¢0.827ï¼‰ãŒãƒ¢ãƒ‡ãƒ«ã«ä¸ãˆã‚‹å½±éŸ¿ã‚’è©³ç´°åˆ†æ

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

ğŸ¯ **é©šãã®ç™ºè¦‹**: **Ticket_Fare_Per_Personå˜ç‹¬ãŒæœ€è‰¯ï¼Fareã¯ä¸è¦**

| ç‰¹å¾´é‡æ§‹æˆ | GradientBoosting | æ”¹å–„ vs Fareå˜ç‹¬ |
|------------|------------------|------------------|
| Baseline + Fare | 0.8294 | - |
| **Baseline + Ticket_Fare_Per_Person** | **0.8429** | **+0.0135** ğŸ† |
| Baseline + Both | 0.8339 | +0.0045 |

**ä¸»è¦ãªçµè«–**:
1. Ticket_Fare_Per_Personå˜ç‹¬ãŒFareå˜ç‹¬ã‚ˆã‚Š**+1.35%è‰¯ã„**
2. ä¸¡æ–¹ä½¿ã†ã‚ˆã‚Šã€Ticket_Fare_Per_Personå˜ç‹¬ã®æ–¹ãŒ**+0.90%è‰¯ã„**
3. å¤šé‡å…±ç·šæ€§ï¼ˆç›¸é–¢0.827ï¼‰ã¯Tree-basedãƒ¢ãƒ‡ãƒ«ã§ã¯å•é¡Œãªã—
4. **æ¨å¥¨**: Fareã§ã¯ãªãTicket_Fare_Per_Personã‚’ä½¿ã†

---

## 1. åŸºæœ¬çµ±è¨ˆã®æ¯”è¼ƒ

### 1.1 åˆ†å¸ƒã®é•ã„

| çµ±è¨ˆé‡ | Fare | Ticket_Fare_Per_Person | å·® |
|--------|------|------------------------|-----|
| å¹³å‡ | $32.20 | $14.55 | $17.65 |
| æ¨™æº–åå·® | $49.69 | $13.58 | - |
| ä¸­å¤®å€¤ | $14.45 | $8.05 | $6.40 |
| æœ€å¤§å€¤ | $512.33 | $128.08 | $384.25 |
| ç›¸é–¢ | - | 0.8271 | - |

**ç™ºè¦‹**:
- Fareã®åˆ†æ•£ãŒå¤§ãã„ï¼ˆstd=$49.69ï¼‰â†’ ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã®å½±éŸ¿
- Ticket_Fare_Per_Personã®åˆ†æ•£ãŒå°ã•ã„ï¼ˆstd=$13.58ï¼‰â†’ ã‚ˆã‚Šå®‰å®š

### 1.2 å·®åˆ†ã®åˆ†æ

```
Fare - Ticket_Fare_Per_Person:
  å¹³å‡: $17.65
  ä¸­å¤®å€¤: $0.00ï¼ˆ50%ã¯å˜ç‹¬æ—…è¡Œè€…ï¼‰
  æœ€å¤§: $384.25ï¼ˆ4äººã‚°ãƒ«ãƒ¼ãƒ—ã®é«˜é¡ãƒã‚±ãƒƒãƒˆï¼‰
```

**æ¯”ç‡ï¼ˆTicket_Fare_Per_Person / Fareï¼‰**:
- å¹³å‡: 0.71ï¼ˆç´„3å‰²ãŒã‚°ãƒ«ãƒ¼ãƒ—å‰²å¼•åŠ¹æœï¼‰
- ä¸­å¤®å€¤: 1.00ï¼ˆ50%ã¯å˜ç‹¬æ—…è¡Œè€…ï¼‰
- æœ€å°: 0.09ï¼ˆ11äººã‚°ãƒ«ãƒ¼ãƒ—ï¼‰

---

## 2. æœ€å¤§å·®ã®ã‚±ãƒ¼ã‚¹åˆ†æ

### Top 10 å·®ãŒå¤§ãã„ã‚±ãƒ¼ã‚¹

| ä¹—å®¢ | Ticket | GroupSize | Fare | FarePP | å·® | ç”Ÿå­˜ | Pclass |
|------|--------|-----------|------|--------|-----|------|--------|
| Ward, Miss. Anna | PC 17755 | 4 | $512.33 | $128.08 | **$384.25** | âœ“ | 1st |
| Cardeza, Mr. Thomas | PC 17755 | 4 | $512.33 | $128.08 | $384.25 | âœ“ | 1st |
| Ryerson, Miss. Emily | PC 17608 | 7 | $262.38 | $37.48 | $224.89 | âœ“ | 1st |
| Fortune, Mr. Charles | 19950 | 6 | $263.00 | $43.83 | $219.17 | âœ— | 1st |

**ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- ã™ã¹ã¦1ç­‰å®¢å®¤
- ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚º4-7äºº
- ã»ã¨ã‚“ã©ç”Ÿå­˜ï¼ˆå¤§å®¶æ—ã®1ç­‰å®¢ã¯ç”Ÿå­˜ç‡é«˜ã„ï¼‰

---

## 3. ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºåˆ¥ã®åˆ†æ

| GroupSize | å¹³å‡Fare | å¹³å‡FarePP | æ¯”ç‡ | ç”Ÿå­˜ç‡ | ä»¶æ•° |
|-----------|----------|------------|------|--------|------|
| 1ï¼ˆå˜ç‹¬ï¼‰ | $11.85 | $11.85 | 1.00 | 27.0% | 481 |
| 2 | $36.88 | $18.44 | 0.50 | 51.4% | 181 |
| 3 | $50.51 | $16.84 | 0.33 | 65.4% | 101 |
| **4** | **$108.28** | **$27.07** | **0.25** | **72.7%** | 44 |
| 5 | $87.82 | $17.56 | 0.20 | 33.3% | 21 |
| 6 | $103.75 | $17.29 | 0.17 | 21.1% | 19 |
| 7 | $61.45 | $8.78 | 0.14 | 20.8% | 24 |
| 8 | $52.07 | $6.51 | 0.13 | 38.5% | 13 |
| 11 | $69.55 | $6.32 | 0.09 | 0.0% | 7 |

**é‡è¦ãªç™ºè¦‹**:
- **GroupSize=4**: æœ€é«˜ç”Ÿå­˜ç‡ï¼ˆ72.7%ï¼‰+ é«˜Fare_Per_Personï¼ˆ$27.07ï¼‰
- **GroupSize=1**: ä½ç”Ÿå­˜ç‡ï¼ˆ27.0%ï¼‰
- GroupSize â‰¥ 5: ç”Ÿå­˜ç‡æ€¥ä½ä¸‹ï¼ˆ20-38%ï¼‰

**è§£é‡ˆ**:
- å°ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ2-4äººï¼‰ã®è£•ç¦ãªå®¶æ— â†’ é«˜ç”Ÿå­˜ç‡
- å¤§ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ5+äººï¼‰ã®è²§å›°å±¤ â†’ ä½ç”Ÿå­˜ç‡
- **Ticket_Fare_Per_PersonãŒã“ã®é•ã„ã‚’æ‰ãˆã‚‹ï¼**

---

## 4. ç”Ÿå­˜ç‡ã¨ã®é–¢ä¿‚

### 4.1 4åˆ†ä½æ•°åˆ¥ã®ç”Ÿå­˜ç‡

**Fare 4åˆ†ä½æ•°åˆ¥**:
| Quartile | ç”Ÿå­˜ç‡ | ä»¶æ•° |
|----------|--------|------|
| Q1 | 19.7% | 223 |
| Q2 | 30.4% | 224 |
| Q3 | 45.5% | 222 |
| Q4 | 58.1% | 222 |

**Ticket_Fare_Per_Person 4åˆ†ä½æ•°åˆ¥**:
| Quartile | ç”Ÿå­˜ç‡ | ä»¶æ•° |
|----------|--------|------|
| Q1 | 27.2% | 224 |
| Q2 | 24.8% | 234 |
| Q3 | 39.0% | 210 |
| Q4 | **63.2%** | 223 |

**ç™ºè¦‹**: Ticket_Fare_Per_Person Q4ã®ç”Ÿå­˜ç‡ï¼ˆ63.2%ï¼‰ãŒFare Q4ï¼ˆ58.1%ï¼‰ã‚ˆã‚Šé«˜ã„ï¼

### 4.2 ã‚¯ãƒ­ã‚¹é›†è¨ˆï¼ˆç”Ÿå­˜ç‡ï¼‰

```
             FarePP_Q1  FarePP_Q2  FarePP_Q3  FarePP_Q4
Fare_Q1        13.8%     23.5%       -         -
Fare_Q2        45.2%     22.6%     29.7%     66.7%  â† æ³¨ç›®ï¼
Fare_Q3        41.5%     33.3%     53.3%     49.2%
Fare_Q4        19.5%       -       54.5%     68.6%
                â†‘                              â†‘
           å¤§å®¶æ—                         è£•ç¦ãªå°ã‚°ãƒ«ãƒ¼ãƒ—
```

**éå¯¾è§’è¦ç´ ã®è§£é‡ˆ**:

1. **Fare Q2 Ã— FarePP Q4ï¼ˆç”Ÿå­˜ç‡66.7%ï¼‰**:
   - ä¸­ç¨‹åº¦ã®ç·é‹è³ƒã ãŒã€ä¸€äººã‚ãŸã‚Šã¯é«˜ã„
   - â†’ è£•ç¦ãª2-3äººã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆé«˜ç”Ÿå­˜ç‡ï¼‰

2. **Fare Q4 Ã— FarePP Q1ï¼ˆç”Ÿå­˜ç‡19.5%ï¼‰**:
   - é«˜ç·é‹è³ƒã ãŒã€ä¸€äººã‚ãŸã‚Šã¯ä½ã„
   - â†’ å¤§å®¶æ—ï¼ˆ5+äººï¼‰ã®3ç­‰å®¢ï¼ˆä½ç”Ÿå­˜ç‡ï¼‰

3. **Fare Q2 Ã— FarePP Q1ï¼ˆç”Ÿå­˜ç‡45.2%ï¼‰**:
   - ä¸­é‹è³ƒã€ä½FarePP
   - â†’ å°ã‚°ãƒ«ãƒ¼ãƒ—ã®3ç­‰å®¢ï¼ˆä¸­ç¨‹åº¦ã®ç”Ÿå­˜ç‡ï¼‰

**çµè«–**: Fareã¨Ticket_Fare_Per_Personã¯ç‹¬ç«‹ã—ãŸæƒ…å ±ã‚’æä¾›ï¼

---

## 5. ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¯”è¼ƒ

### 5.1 è©³ç´°æ¯”è¼ƒï¼ˆ3ãƒ¢ãƒ‡ãƒ«ï¼‰

#### GradientBoosting

| ç‰¹å¾´é‡æ§‹æˆ | CV Score | ãƒ©ãƒ³ã‚¯ |
|------------|----------|--------|
| **Baseline + Ticket_Fare_Per_Person** | **0.8429** | ğŸ¥‡ 1ä½ |
| Baseline + Ticket_GroupSize + FarePP | 0.8417 | ğŸ¥ˆ 2ä½ |
| Baseline + Both (Fare + FarePP) | 0.8339 | 3ä½ |
| Baseline + Ticket_GroupSize + Fare | 0.8328 | 4ä½ |
| Baseline + Fare | 0.8294 | 5ä½ |
| Baseline + Ticket_GroupSize | 0.8283 | 6ä½ |
| Baseline (no Fare) | 0.8215 | 7ä½ |

**ç™ºè¦‹**: Ticket_Fare_Per_Personå˜ç‹¬ãŒæœ€è‰¯ï¼ˆ+0.0135 vs Fareå˜ç‹¬ï¼‰

#### LightGBM

| ç‰¹å¾´é‡æ§‹æˆ | CV Score | ãƒ©ãƒ³ã‚¯ |
|------------|----------|--------|
| **Baseline + Fare** | **0.8361** | ğŸ¥‡ 1ä½ |
| Baseline + Ticket_Fare_Per_Person | 0.8328 | 2ä½ |
| Baseline + Ticket_GroupSize + Fare | 0.8316 | 3ä½ |

**ç™ºè¦‹**: LightGBMã§ã¯Fareå˜ç‹¬ãŒæœ€è‰¯ï¼ˆGBã¨ã¯é€†ï¼‰

#### RandomForest

| ç‰¹å¾´é‡æ§‹æˆ | CV Score | ãƒ©ãƒ³ã‚¯ |
|------------|----------|--------|
| **Baseline + Both** | **0.8373** | ğŸ¥‡ 1ä½ |
| Baseline + Ticket_Fare_Per_Person | 0.8339 | 2ä½ |
| Baseline + Ticket_GroupSize + Fare | 0.8316 | 3ä½ |

**ç™ºè¦‹**: RandomForestã§ã¯ä¸¡æ–¹ä½¿ã†ã®ãŒæœ€è‰¯

### 5.2 ãƒ¢ãƒ‡ãƒ«åˆ¥ã®æ¨å¥¨

| ãƒ¢ãƒ‡ãƒ« | æ¨å¥¨æ§‹æˆ | CV Score | ç†ç”± |
|--------|----------|----------|------|
| **GradientBoosting** | **Ticket_Fare_Per_Personå˜ç‹¬** | **0.8429** | æœ€é«˜æ€§èƒ½ã€ã‚·ãƒ³ãƒ—ãƒ« |
| LightGBM | Fareå˜ç‹¬ | 0.8361 | å¾“æ¥ã®ç‰¹å¾´é‡ã§ååˆ† |
| RandomForest | Fare + FarePP | 0.8373 | ä¸¡æ–¹ã®æƒ…å ±ã‚’æ´»ç”¨ |

---

## 6. ç‰¹å¾´é‡é‡è¦åº¦ã®åˆ†æ

### 6.1 ä¸¡æ–¹ä½¿ç”¨æ™‚ï¼ˆGradientBoostingï¼‰

| ç‰¹å¾´é‡ | é‡è¦åº¦ | é †ä½ |
|--------|--------|------|
| Title | 0.5262 | 1ä½ |
| **Ticket_Fare_Per_Person** | **0.1541** | 2ä½ |
| **Fare** | **0.1231** | 3ä½ |
| Pclass | 0.0839 | 4ä½ |
| FamilySize | 0.0673 | 5ä½ |

**æ¯”ç‡**: Ticket_Fare_Per_Person / Fare = **1.25x**

### 6.2 è§£é‡ˆ

```python
# Tree-basedãƒ¢ãƒ‡ãƒ«ã®åˆ†å‰²æˆ¦ç•¥ï¼ˆæ¨å®šï¼‰

Node 1: Ticket_Fare_Per_Person <= 10.5 (ä¸»åˆ†å‰²)
â”œâ”€ True (ä½FarePP):
â”‚  â”œâ”€ ç”Ÿå­˜ç‡: 25%
â”‚  â””â”€ ã•ã‚‰ã« Fare ã§åˆ†å‰²ï¼ˆå¤§å®¶æ— vs è²§å›°å˜ç‹¬ï¼‰
â”‚     â”œâ”€ Fare > 20 â†’ å¤§å®¶æ—ï¼ˆä¸€éƒ¨ç”Ÿå­˜ï¼‰
â”‚     â””â”€ Fare <= 20 â†’ è²§å›°å˜ç‹¬ï¼ˆä½ç”Ÿå­˜ï¼‰
â”‚
â””â”€ False (é«˜FarePP):
   â”œâ”€ ç”Ÿå­˜ç‡: 65%
   â””â”€ Pclass ã§åˆ†å‰²
       â”œâ”€ Pclass=1,2 â†’ é«˜ç”Ÿå­˜ï¼ˆè£•ç¦ï¼‰
       â””â”€ Pclass=3 â†’ ä¸­ç¨‹åº¦

â†’ Ticket_Fare_Per_Person ãŒä¸»è¦ãªåˆ†å‰²åŸºæº–
â†’ Fare ã¯è£œåŠ©çš„ï¼ˆå¤§å®¶æ—ã®è­˜åˆ¥ç”¨ï¼‰
```

**çµè«–**: Ticket_Fare_Per_Personã®æ–¹ãŒæƒ…å ±é‡ãŒå¤šã„

---

## 7. ãªãœå¤šé‡å…±ç·šæ€§ãŒå•é¡Œã«ãªã‚‰ãªã„ã®ã‹ï¼Ÿ

### 7.1 Tree-basedãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§

**ç·šå½¢ãƒ¢ãƒ‡ãƒ«ã®å•é¡Œ**:
```
Survived = Î²â‚€ + Î²â‚Â·Fare + Î²â‚‚Â·Ticket_Fare_Per_Person + ...

å•é¡Œ: Fare ã¨ Ticket_Fare_Per_Person ãŒç›¸é–¢0.827
â†’ ã©ã¡ã‚‰ã®ä¿‚æ•°ãŒå¤§ãã„ã‹ä¸å®‰å®šï¼ˆå¤šé‡å…±ç·šæ€§ï¼‰
â†’ ä¸¡æ–¹ã®ä¿‚æ•°ãŒæ¸›å°‘ï¼ˆVIF=7-10ï¼‰
```

**Tree-basedãƒ¢ãƒ‡ãƒ«ã®åˆ©ç‚¹**:
```
if Ticket_Fare_Per_Person <= 10.5:
    # Ticket_Fare_Per_Person ã‚’ä½¿ç”¨
    ä½ç”Ÿå­˜ç‡ã‚°ãƒ«ãƒ¼ãƒ—
else:
    if Fare > 50:
        # ã“ã“ã§ã¯ Fare ã‚’ä½¿ç”¨ï¼ˆè¿½åŠ æƒ…å ±ï¼‰
        å¤§å®¶æ—ã‚’è­˜åˆ¥
    else:
        é«˜ç”Ÿå­˜ç‡ã‚°ãƒ«ãƒ¼ãƒ—

â†’ è‡ªå‹•çš„ã«æœ€é©ãªç‰¹å¾´é‡ã‚’é¸æŠ
â†’ ç›¸é–¢ãŒã‚ã£ã¦ã‚‚å•é¡Œãªã—ï¼ˆä½¿ã„åˆ†ã‘ã‚‹ï¼‰
```

### 7.2 ãªãœTicket_Fare_Per_Personå˜ç‹¬ãŒæœ€è‰¯ãªã®ã‹ï¼Ÿ

**ä»®èª¬**: Fareã¯å†—é•·ãªæƒ…å ±ã‚’æŒã¤

```
Ticket_Fare_Per_Person = Fare / Ticket_GroupSize

ã™ã§ã«Ticket_GroupSizeã‚’ç‰¹å¾´é‡ã¨ã—ã¦æŒã£ã¦ã„ã‚‹å ´åˆ:
â†’ Fare = Ticket_Fare_Per_Person Ã— Ticket_GroupSize
â†’ Fareã¯ä»–ã®2ã¤ã®ç‰¹å¾´é‡ã‹ã‚‰è¨ˆç®—å¯èƒ½ï¼ˆå†—é•·ï¼‰

Tree-basedãƒ¢ãƒ‡ãƒ«ã®å‹•ä½œ:
â†’ Ticket_Fare_Per_Person ã§åˆ†å‰²ï¼ˆæƒ…å ±ã‚²ã‚¤ãƒ³å¤§ï¼‰
â†’ Fare ã§åˆ†å‰²ã‚’è©¦ã¿ã‚‹ï¼ˆæƒ…å ±ã‚²ã‚¤ãƒ³å°ã€æ—¢ã«ä½¿ç”¨æ¸ˆã¿ï¼‰
â†’ Fareã‚’ä½¿ã‚ãªã„ï¼ˆåŠ¹ç‡çš„ï¼‰
```

**GBã§ã®çµæœ**:
- Ticket_Fare_Per_Personå˜ç‹¬: 0.8429
- Fareè¿½åŠ : 0.8339ï¼ˆ**-0.0090æ‚ªåŒ–ï¼**ï¼‰

**ç†ç”±**: Fareã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ãƒ¢ãƒ‡ãƒ«ãŒè¤‡é›‘åŒ–ã—ã€éå­¦ç¿’ã®å¯èƒ½æ€§

---

## 8. å®Ÿç”¨çš„ãªæ„å‘³

### 8.1 Ticket_Fare_Per_PersonãŒæ‰ãˆã‚‹ã‚‚ã®

**çµŒæ¸ˆçŠ¶æ³ã®æŒ‡æ¨™**:
- ä¸€äººã‚ãŸã‚Šã®å®Ÿè³ªçš„ãªæ”¯æ‰•ã„èƒ½åŠ›
- ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã‚’è€ƒæ…®ã—ãŸå¯Œè£•åº¦

**å…·ä½“ä¾‹**:

| ã‚±ãƒ¼ã‚¹ | Fare | GroupSize | FarePP | è§£é‡ˆ | ç”Ÿå­˜ç‡äºˆæ¸¬ |
|--------|------|-----------|--------|------|------------|
| A | $100 | 1 | $100 | è£•ç¦ãªå˜ç‹¬ | é«˜ |
| B | $100 | 10 | $10 | å¤§å®¶æ—ã®è²§å›°å±¤ | ä½ |
| C | $50 | 2 | $25 | ä¸­æµã®å°ã‚°ãƒ«ãƒ¼ãƒ— | ä¸­ |

**Fareã ã‘ã§ã¯**:
- ã‚±ãƒ¼ã‚¹Aã¨BãŒåŒã˜$100 â†’ åŒºåˆ¥ã§ããªã„

**Ticket_Fare_Per_Personã§ã¯**:
- ã‚±ãƒ¼ã‚¹A: $100ï¼ˆé«˜FarePP â†’ é«˜ç”Ÿå­˜ï¼‰
- ã‚±ãƒ¼ã‚¹B: $10ï¼ˆä½FarePP â†’ ä½ç”Ÿå­˜ï¼‰
- â†’ æ­£ã—ãåŒºåˆ¥ã§ãã‚‹ï¼

### 8.2 æ­´å²çš„èƒŒæ™¯

ã‚¿ã‚¤ã‚¿ãƒ‹ãƒƒã‚¯å·ã®é¿é›£æ–¹é‡:
1. **å¥³æ€§ã¨å­ä¾›å„ªå…ˆï¼ˆæœ€å„ªå…ˆï¼‰**
2. **å®¢å®¤ã‚¯ãƒ©ã‚¹é †ï¼ˆ1ç­‰ > 2ç­‰ > 3ç­‰ï¼‰**
3. **ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã®å½±éŸ¿**:
   - å°ã‚°ãƒ«ãƒ¼ãƒ—: è¿…é€Ÿã«é¿é›£
   - å¤§ã‚°ãƒ«ãƒ¼ãƒ—: å…¨å“¡ã‚’é›†ã‚ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹

**Ticket_Fare_Per_PersonãŒåæ˜ ã™ã‚‹ã‚‚ã®**:
- å€‹äººã®å¯Œè£•åº¦ï¼ˆå®¢å®¤ã‚¯ãƒ©ã‚¹ï¼‰
- è¿…é€Ÿãªé¿é›£èƒ½åŠ›ï¼ˆå°ã‚°ãƒ«ãƒ¼ãƒ— vs å¤§ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰

---

## 9. æœ€çµ‚æ¨å¥¨äº‹é …

### âœ… ãƒ¢ãƒ‡ãƒ«åˆ¥ã®æ¨å¥¨ï¼ˆæ›´æ–°ç‰ˆï¼‰

#### GradientBoostingï¼ˆä¸»åŠ›ãƒ¢ãƒ‡ãƒ«ï¼‰

**æ¨å¥¨**: **Ticket_Fare_Per_Personå˜ç‹¬**

```python
features = base_features + ['Ticket_Fare_Per_Person']
# Fareã¯ä¸è¦ï¼ˆã‚€ã—ã‚è¿½åŠ ã™ã‚‹ã¨æ‚ªåŒ–ï¼‰
```

**ç†ç”±**:
- æœ€é«˜æ€§èƒ½ï¼ˆ0.8429ï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«ï¼ˆFareã‚ˆã‚Šï¼‰
- Fareè¿½åŠ ã§-0.0090æ‚ªåŒ–

**ä»£æ›¿æ¡ˆ**: Ticket_GroupSize + Ticket_Fare_Per_Personï¼ˆ0.8417ã€-0.0012ï¼‰

#### LightGBM

**æ¨å¥¨**: **Fareå˜ç‹¬** ã¾ãŸã¯ **Ticket_Fare_Per_Personå˜ç‹¬**

```python
features = base_features + ['Fare']
# ã¾ãŸã¯
features = base_features + ['Ticket_Fare_Per_Person']
```

**ç†ç”±**:
- Fareå˜ç‹¬ãŒæœ€è‰¯ï¼ˆ0.8361ï¼‰
- Ticket_Fare_Per_Personã§ã‚‚ã»ã¼åŒã˜ï¼ˆ0.8328ã€-0.0033ï¼‰

#### RandomForest

**æ¨å¥¨**: **Bothï¼ˆFare + Ticket_Fare_Per_Personï¼‰**

```python
features = base_features + ['Fare', 'Ticket_Fare_Per_Person']
```

**ç†ç”±**:
- ä¸¡æ–¹ä½¿ã†ã®ãŒæœ€è‰¯ï¼ˆ0.8373ï¼‰
- RandomForestã¯ç‰¹å¾´é‡ã®å†—é•·æ€§ã«å¼·ã„

### âš ï¸ æ³¨æ„ç‚¹

1. **GradientBoostingã§ã¯ä¸¡æ–¹ä½¿ã‚ãªã„**:
   - ä¸¡æ–¹ä½¿ã†ã¨-0.0090æ‚ªåŒ–
   - Ticket_Fare_Per_Personå˜ç‹¬ãŒæœ€è‰¯

2. **ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦æœ€é©æ§‹æˆãŒç•°ãªã‚‹**:
   - GB: Ticket_Fare_Per_Personå˜ç‹¬
   - LGB: Fareå˜ç‹¬
   - RF: ä¸¡æ–¹

3. **å¤šé‡å…±ç·šæ€§ã¯å¿ƒé…ä¸è¦ï¼ˆTree-basedï¼‰**:
   - ç›¸é–¢0.827ã§ã‚‚å•é¡Œãªã—
   - ã‚€ã—ã‚å†—é•·æ€§ï¼ˆéå‰°æƒ…å ±ï¼‰ãŒå•é¡Œ

---

## 10. çµè«–

### ğŸ¯ æ ¸å¿ƒçš„ãªç™ºè¦‹

1. **Ticket_Fare_Per_Personã¯ Fare ã‚ˆã‚Šã‚‚å„ªã‚ŒãŸç‰¹å¾´é‡**:
   - GradientBoostingã§+1.35%æ”¹å–„
   - ç‰¹å¾´é‡é‡è¦åº¦1.25å€

2. **å¤šé‡å…±ç·šæ€§ï¼ˆç›¸é–¢0.827ï¼‰ã¯å•é¡Œã§ã¯ãªã„**:
   - Tree-basedãƒ¢ãƒ‡ãƒ«ã¯è‡ªå‹•ã§ä½¿ã„åˆ†ã‘
   - ã‚€ã—ã‚å†—é•·æ€§ï¼ˆä¸¡æ–¹ä½¿ã†ã“ã¨ï¼‰ãŒå•é¡Œ

3. **Fareã‚’é™¤å¤–ã—Ticket_Fare_Per_Personã‚’ä½¿ã†**:
   - ã‚ˆã‚Šè‰¯ã„æ€§èƒ½ï¼ˆ+1.35%ï¼‰
   - ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ï¼ˆç‰¹å¾´é‡1ã¤æ¸›ï¼‰

4. **ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã®å½±éŸ¿ã‚’æ­£ã—ãæ‰ãˆã‚‹**:
   - è£•ç¦ãªå°ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆé«˜FarePPï¼‰â†’ é«˜ç”Ÿå­˜
   - å¤§å®¶æ—ã®è²§å›°å±¤ï¼ˆä½FarePPï¼‰â†’ ä½ç”Ÿå­˜

### ğŸ“Š å®Ÿç”¨çš„ãªæ¨å¥¨

**GradientBoostingã®æœ€çµ‚æ§‹æˆ**:
```python
features = [
    'Pclass', 'Sex', 'SibSp', 'Parch', 'Title',
    'FamilySize', 'SmallFamily', 'Embarked_*',
    'Ticket_Fare_Per_Person'  # â† Fareã®ä»£ã‚ã‚Šã«
]

# NOT: Fareï¼ˆå†—é•·ã€æ‚ªåŒ–ï¼‰
```

**æœŸå¾…æ€§èƒ½**: 0.8429ï¼ˆFareä½¿ç”¨æ™‚0.8294ã‹ã‚‰+1.35%æ”¹å–„ï¼‰

---

**ç”Ÿæˆæ—¥**: 2025-10-24
**åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `scripts/analysis/fare_vs_ticket_fare_per_person.py`
